// Generated by CoffeeScript 2.6.1
export default function() {
  var _bakPush;
  // 定义全局检测设备类型变量
  window.DEV = null;
  window.Mob = false;
  window.resizeFns = [];
  _bakPush = resizeFns.push;
  resizeFns.push = function(newItem) {
    var oldItem;
    if ((oldItem = resizeFns.find((item) => {
      return String(item) === String(newItem && item !== newItem);
    })) !== -1) {
      resizeFns.splice(resizeFns.indexOf(oldItem), 1);
    }
    return _bakPush.bind(this)(newItem);
  };
  return (function() {
    var fn;
    fn = function() {
      var root;
      root = document.documentElement || document.body;
      window.pageWidth = root.clientWidth;
      window.DEV = pageWidth <= 700 ? "mobile" : ((700 < pageWidth && pageWidth <= 1024)) ? "tablet" : ((1024 < pageWidth && pageWidth <= 1215)) ? "desktop" : ((1215 < pageWidth && pageWidth <= 1500)) ? "wideScreen" : pageWidth > 1500 ? "fullHD" : void 0; //768
      if (window.DEV === "mobile") {
        window.Mob = true;
      } else {
        window.Mob = false;
      }
      switch (window.DEV) {
        case "mobile":
          return root.style["font-size"] = Math.ceil(root.clientWidth / (440 / 10)) + "px";
        case "wideScreen":
          return root.style["font-size"] = 11 + "px";
        case "fullHD":
          return root.style["font-size"] = 11 + "px";
        default:
          return root.style["font-size"] = 10 + "px";
      }
    };
    fn();
    return window.addEventListener("resize", function() {
      fn();
      resizeFns.forEach((fn) => {
        if (fn) {
          return fn();
        }
      });
      return m.redraw();
    });
  })();
};
